@{
    Layout = "~/Views/Shared/LayoutPage.cshtml";
}

<!-- CSS -->
<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<link href="~/Content/style/datatables/jquery.dataTables.css" rel="stylesheet" />
<link href="~/Content/style/css/Style-Reportes.css" rel="stylesheet" />
<link href="~/Content/style/css/RecursosHumanos/ActoCondicionCH/General.css" rel="stylesheet" />
<link href="~/Content/style/css/RecursosHumanos/ActoCondicionCH/Historial.css" rel="stylesheet" />
<link href='~/Content/select2.css' rel='stylesheet' />

<!-- CONTAINER -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12 text-center">
            <br>
            <h2>HISTORIAL</h2>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <!-- PANEL FILTROS -->
            <div id="panelFiltro" class="panel panel-default panel-principal">
                <div class="panel-heading">
                    <h4 class="text-center">FILTRO DE BÚSQUEDA</h4>
                </div>
            </div>
            <div class="panel-body">
                <div id="divTabs">
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active"><a href="#tabHistorial" aria-controls="tabHistorial" role="tab" data-toggle="tab" id="tabHis">Historial</a></li>
                        <li role="presentation"><a href="#tabMatrices" aria-controls="tabMatrices" role="tab" data-toggle="tab">Matrices</a></li>
                    </ul>
                    <!-- Tab panes -->
                    <div class="tab-content">
                        <!-- tab general -->
                        <div role="tabpanel" class="tab-pane fade in active" id="tabHistorial">
                            <div class="row margin-top">
                                <div class="col-xs-12 col-md-12">
                                    <div class="panel-group">
                                        <div class="panel panel-primary">
                                            <div class="panel-heading">
                                                <h4 class="panel-title text-center">
                                                    <a data-toggle="collapse" href="#divHistorial" id="lblHistorialEmpleado">Historial Empleado</a>
                                                </h4>
                                            </div>
                                            <div id="divHistorial" class="panel-collapse collapse in">
                                                <div class="panel-body">
                                                    <div id="divChkEsContratista" style="display:none">
                                                        <input type="checkbox" id="chkEsContratista" data-toggle="toggle" data-on="Contratista" data-off="Construplan" />
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-5 col-md-2 text-center">
                                                            <label for="inputClaveEmpleado" class="form-label">Clave Empleado:</label>
                                                            <input type="number" name="inputClaveEmpleado" id="inputClaveEmpleado" placeholder="# Empleado" class="form-control" />
                                                        </div>
                                                        <div class="col-xs-5 col-md-2 col-lg-4 text-center">
                                                            <label for="inputNombreEmpleado" class="form-label">
                                                                Nombre
                                                                Empleado:
                                                            </label>
                                                            <input type="text" name="inputNombreEmpleado" id="inputNombreEmpleado" disabled class="form-control" />
                                                        </div>
                                                        <div class="col-xs-2 col-md-2 text-center">
                                                            <button class="btn btn-primary margin-top" id="botonBuscarEmpleado">
                                                                <i class="fas fa-search"></i> Buscar
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-12 text-center">
                                                            <table id="tablaHistorial" class="table table-hover margin-top"></table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Fin tab general -->
                        <!-- tab detalle -->
                        <div role="tabpanel" class="tab-pane fade" id="tabMatrices">
                            <div class="row margin-top">
                                <div class="col-xs-12 col-md-12">
                                    <div class="panel-group">
                                        <div class="panel panel-primary">
                                            <div class="panel-heading">
                                                <h4 class="panel-title text-center">
                                                    <a data-toggle="collapse" href="#divMatrices">
                                                        Matrices
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="divMatrices" class="panel-collapse collapse in">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-sm-4">
                                                            <label>Centro de Costo:</label>
                                                            <select class="form-control" id="comboCC" multiple></select>
                                                        </div>
                                                        <div class='col-sm-4'>
                                                            <label>Fecha:</label>
                                                            <div class='input-group'>
                                                                <input id="inputFechaInicio" class="form-control" />
                                                                <span class='input-group-addon'></span>
                                                                <input id="inputFechaFin" class="form-control" />
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <label>Supervisor:</label>
                                                            <select style="width: 100%;" class="form-control select2" id="comboSupervisor"></select>
                                                        </div>
                                                        <div class="col-sm-2" style="display:none">
                                                            <label>Departamento:</label>
                                                            <select style="width: 100%;" class="form-control select2" id="comboDepartamento"></select>
                                                        </div>
                                                        <div class="col-sm-3" style="display:none">
                                                            <label for="comboSubclasificacion" class="form-label">Subclasificación:</label>
                                                            <select name="comboSubclasificacion" id="comboSubclasificacion" style="width: 100%" class="form-control select2"></select>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <button class="btn btn-primary pull-right margin-top" id="botonBuscarMatrices">
                                                                <i class="fas fa-search"></i> Buscar
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <hr>
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <table id="tablaMatrizActo" class="table table-hover margin-top" style="width: 100%;"></table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Fin tab detalle -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- END: CONTAINER -->

<!-- MODAL LISTADO DE ARCHIVOS ADJUNTOS -->
<div id='mdlArchivosAdjuntos' class='modal fade' role='dialog' data-backdrop="static">
    <div class='modal-dialog modal-lg'>
        <div class='modal-content'>
            <div class='modal-header text-center'>
                <h4 class='modal-title'><i class='fa fa-dollar'></i>Archivos adjuntos</h4>
            </div>
            <div class='modal-body'>
                <div class="row">
                    <div class="col-lg-12">
                        <table id="tablaArchivosAdjuntos" class="table stripe compact nowrap" style="width:100%;"></table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fas fa-undo"></i>&nbsp;Cerrar</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- END: MODAL LISTADO DE ARCHIVOS ADJUNTOS -->

@Html.Action("_visorGrid")

<!-- Scripts -->
<script src="~/Scripts/Utilities/datatables/datatables.min.js"></script>
<script src='~/Scripts/select2.js'></script>
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
<script src="~/Scripts/js/Administrativo/RecursosHumanos/ActoCondicionCH/Historial.js"></script>
<script src='~/Scripts/moment-with-locales.min.js'></script>