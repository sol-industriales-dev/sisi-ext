@{
ViewBag.Title = "InsumosConsignaLicitacionConvenio";
Layout = "~/Views/Shared/LayoutPage.cshtml";
}

<link href="~/Content/style/datatables/jquery.dataTables.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />

<style>
    #tablaInsumosConsigna thead tr,
    #tablaInsumosLicitacion thead tr,
    #tablaInsumosConvenio thead tr {
        background: linear-gradient(40deg, #45cafc, #303f9f) !important;
        color: white;
    }
</style>

<div class="row text-center margin-top">
    <h2>Insumos Consigna - Licitación - Convenio</h2>
</div>

<ul class="nav nav-tabs nav-justified">
    <li class="active"><a data-toggle="tab" href="#tabConsigna">Consigna</a></li>
    <li><a data-toggle="tab" href="#tabLicitacion">Licitación</a></li>
    <li><a data-toggle="tab" href="#tabConvenio">Convenio</a></li>
</ul>

<div class="tab-content">
    <div id="tabConsigna" class="tab-pane fade in active">
        <div class="col-md-12">
            <div class="row">
                <fieldset class="fieldset-custm margin-top">
                    <div class="row mrgTop">
                        <div id="divBotonesConsigna" class="col-xs-12">
                            <button type="button" class="btn btn-sm btn-default" id="botonExcelConsigna" style="margin-top: 5px; margin-bottom: 5px;"><i class="fas fa-file"></i> Cargar Excel</button>
                            <button type="button" class="btn btn-sm btn-default" id="botonDescargarExcelConsigna" style="margin-top: 5px; margin-bottom: 5px;"><i class="fas fa-file"></i> Descargar Excel</button>
                            <button type="button" class="btn btn-sm btn-primary pull-right" id="botonAgregarConsigna" style="margin-top: 5px; margin-bottom: 5px;"><i class="fas fa-plus"></i> Agregar</button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-12 mrgTop">
                            <table id="tablaInsumosConsigna" class="table table-hover compact table-bordered" width="100%"></table>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
    <div id="tabLicitacion" class="tab-pane fade">
        <div class="col-md-12">
            <div class="row">
                <fieldset class="fieldset-custm margin-top">
                    <div class="row mrgTop">
                        <div id="divBotonesLicitacion" class="col-xs-12">
                            <button type="button" class="btn btn-sm btn-default" id="botonExcelLicitacion" style="margin-top: 5px; margin-bottom: 5px;"><i class="fas fa-file"></i> Cargar Excel</button>
                            <button type="button" class="btn btn-sm btn-default" id="botonDescargarExcelLicitacion" style="margin-top: 5px; margin-bottom: 5px;"><i class="fas fa-file"></i> Descargar Excel</button>
                            <button type="button" class="btn btn-sm btn-primary pull-right" id="botonAgregarLicitacion" style="margin-top: 5px; margin-bottom: 5px;"><i class="fas fa-plus"></i> Agregar</button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-12 mrgTop">
                            <table id="tablaInsumosLicitacion" class="table table-hover compact table-bordered" width="100%"></table>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
    <div id="tabConvenio" class="tab-pane fade">
        <div class="col-md-12">
            <div class="row">
                <fieldset class="fieldset-custm margin-top">
                    <div class="row mrgTop">
                        <div id="divBotonesConvenio" class="col-xs-12">
                            <button type="button" class="btn btn-sm btn-default" id="botonExcelConvenio" style="margin-top: 5px; margin-bottom: 5px;"><i class="fas fa-file"></i> Cargar Excel</button>
                            <button type="button" class="btn btn-sm btn-default" id="botonDescargarExcelConvenio" style="margin-top: 5px; margin-bottom: 5px;"><i class="fas fa-file"></i> Descargar Excel</button>
                            <button type="button" class="btn btn-sm btn-primary pull-right" id="botonAgregarConvenio" style="margin-top: 5px; margin-bottom: 5px;"><i class="fas fa-plus"></i> Agregar</button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-12 mrgTop">
                            <table id="tablaInsumosConvenio" class="table table-hover compact table-bordered" width="100%"></table>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalInsumo">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <div class="text-center">
                    <h3>Insumo</h3>
                </div>
            </div>

            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-2">
                        <label for="inputInsumo" class="form-label">Insumo:</label>
                        <input type="text" name="inputInsumo" id="inputInsumo" class="form-control" />
                    </div>
                    <div class="col-sm-10" style="padding-left: 0px;">
                        <input type="text" name="inputInsumoDesc" id="inputInsumoDesc" class="form-control" disabled style="margin-top: 25px;">
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-2">
                        <label for="inputProveedor" class="form-label">Proveedor:</label>
                        <input type="text" name="inputProveedor" id="inputProveedor" class="form-control" />
                    </div>
                    <div class="col-sm-10" style="padding-left: 0px;">
                        <input type="text" name="inputProveedorDesc" id="inputProveedorDesc" class="form-control" disabled style="margin-top: 25px;">
                    </div>
                </div>
                <div class="row">
                    <div id="divArticulo" class="col-sm-8">
                        <label for="inputArticulo" class="form-label">Artículo:</label>
                        <input type="text" name="inputArticulo" id="inputArticulo" class="form-control" />
                    </div>
                    <div id="divUnidad" class="col-sm-2" style="padding-left: 0px; padding-right: 0px;">
                        <label for="inputUnidad" class="form-label">Unidad:</label>
                        <input type="text" name="inputUnidad" id="inputUnidad" class="form-control" />
                    </div>
                    <div class="col-sm-2">
                        <label for="inputPrecio" class="form-label">Precio:</label>
                        <input type="text" name="inputPrecio" id="inputPrecio" class="form-control" />
                    </div>
                </div>
            </div>

            <div class="modal-footer margin-top">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    <i class="fas fa-undo"></i> Cancelar
                </button>

                <button type="button" class="btn btn-primary" id="botonGuardar">
                    <i class="fas fa-save"></i> Guardar
                </button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalCargarExcel" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header modal-bg">
                <div class="text-center">
                    <h3><label> Cargar Excel</label></h3>
                </div>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <input id="inputFileExcel" type="file">
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <label id="labelFormato">Formato: Insumo | Proveedor | Artículo | Unidad | Precio</label>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <label>Columna Activo:</label>
                    </div>
                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <label style="color: green;">1 = Activo (Alta / Edición)</label>
                    </div>
                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <label style="color: red;">0 = Inactivo (Se elimina el registro existente / Se ignora si no existe)</label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="botonGuardarExcel" class="btn btn-primary"><i class="fa fa-save"></i> Guardar</button>
            </div>
        </div>
    </div>
</div>

<script src="~/Scripts/Utilities/datatables/datatables.min.js"></script>
<script src="~/Scripts/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script src="~/Scripts/Utilities/chart/chartjs-plugin-labels.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.flash.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js" type="text/javascript"></script>
<script src="~/Scripts/js/Enkontrol/Compras/Requisicion/InsumosConsignaLicitacionConvenio.js"></script>