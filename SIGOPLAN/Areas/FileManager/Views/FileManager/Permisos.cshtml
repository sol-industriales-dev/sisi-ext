@{
    ViewBag.Title = "Administrar Permisos";
    Layout = "~/Views/Shared/LayoutPage.cshtml";
}
<link href="~/Content/style/css/skin-lion/ui.fancytree.min.css" rel="stylesheet" />
<link href="~/Content/style/css/FileManager/Permisos.css" rel="stylesheet" />


<div class="row text-center titulo">
    <h2>Administrar permisos para el gestor documental <i class="fas fa-users-cog"></i></h2>
</div>

<fieldset class="fieldset-custm">
    <legend class="legend-custm"><label>Permisos:</label></legend>

    <div class="row">
        <div class="col-xs-12 col-md-3 col-lg-3 form-group">
            <fieldset class="fieldset-custm">
                <legend class="legend-custm"><label>Nombre del usuario:</label></legend>
                <div class="row cuadroInfo">
                    <input type="text" id="inputUsuario" class="form-control" placeholder="Nombre del usuario...">
                    <button class="btn btn-primary margin-top" type="button" id="botonBuscar">
                        <i class="fas fa-search"></i> Buscar
                    </button>

                    <button class="btn btn-primary" type="button" id="botonOpcionesAvanzadas" style="display: none">
                        <i class="fas fa-cog"></i> Opciones Avanzadas
                    </button>

                </div>
            </fieldset>
        </div>
        <div class="col-xs-12 col-md-9 col-lg-9 form-group">
            <div id="treeGridDiv">
                <fieldset class="fieldset-custm">
                    <legend class="legend-custm"><label><span id="spanNumeroArchivos"></span> archivos:</label></legend>
                    <div class="row cuadroInfo">
                        <table id="treeGridArea">
                            <colgroup>
                                <col width="*">
                                </col>
                                <col width="*">
                                </col>
                                <col width="*">
                                </col>
                                <col width="*">
                                </col>
                                <col width="*">
                                </col>
                                <col width="*">
                                </col>
                                <col width="*">
                                </col>
                            </colgroup>
                            <thead>
                                <tr>
                                    <th id="thArchivos" class="text-center">
                                        <button id="botonColapsar" class="btn btn-primary btn-sm"><i class="fas fa-angle-double-up"></i></button>
                                        <button id="botonExpandir" class="btn btn-primary btn-sm"><i class="fas fa-angle-double-down"></i></button>
                                    </th>
                                    <th tipoPermiso='subir' class="text-center">Subir<br><i class="fas fa-file-upload"></i></th>
                                    <th tipoPermiso='crear' class="text-center">Crear<br><i class="fas fa-folder-plus"></i></th>
                                    <th tipoPermiso='descargarCarpeta' class="text-center">Descargar carpeta<br>
                                        <i class="fas fa-file-archive"></i>
                                    </th>
                                    <th tipoPermiso='eliminar' class="text-center">Eliminar<br><i class="fas fa-trash"></i></th>
                                    <th tipoPermiso='actualizar' class="text-center">Actualizar<br><i class="fas fa-sync"></i></th>
                                    <th tipoPermiso='descargarArchivo' class="text-center">Descargar archivo<br><i class="fas fa-file-download"></i>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td></td>
                                    <td class="text-center"></td>
                                    <td class="text-center"></td>
                                    <td class="text-center"></td>
                                    <td class="text-center"></td>
                                    <td class="text-center"></td>
                                    <td class="text-center"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
</fieldset>
<div class="row text-right">
    <div id="divBotonGuardar" class="col-lg-12">
        <button class="btn btn-primary pull-right margin-top" type="button" id="botonGuardar"><i class="fas fa-save"></i> Guardar cambios</button>
    </div>
</div>

<div class="modal fade" id="modalOpcionesAvanzadas">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <div class="text-center">
                    <h3><i class="fas fa-cog"></i> Opciones Avanzadas</h3>
                </div>
            </div>
            <div class="modal-body">

                <div class="text-center">
                    <div id="divRadioOpciones" class="btn-group margin-top">
                        <a class="btn btn-primary active" option=1>
                            <i class="fas fa-folder-plus"></i> Crear Estructura
                        </a>
                        <a class="btn btn-primary" option=2>
                            <i class="fas fa-star"></i> Permisos Generales
                        </a>
                        <a class="btn btn-primary" option=3>
                            <i class="fas fa-shield-alt"></i> Seguridad
                        </a>
                        <a class="btn btn-primary" option=4>
                            <i class="fas fa-user-times"></i> Eliminar
                        </a>
                    </div>
                </div>


                <div id="divPermisoEspecial" class="margin-top">
                    <p>El usuario tendrá los siguientes privilegios:</p>
                    <div>
                        <table id="tablaPermisosEspeciales" class="table table-striped table-hover table-condensed table-bordered">
                            <thead>
                                <tr>
                                    <th tipoPermiso='subir' class="text-center">Subir<br><i class="fas fa-file-upload"></i></th>
                                    <th tipoPermiso='crear' class="text-center">Crear<br><i class="fas fa-folder-plus"></i></th>
                                    <th tipoPermiso='descargarCarpeta' class="text-center">Descargar carpeta<br>
                                        <i class="fas fa-file-archive"></i>
                                    </th>
                                    <th tipoPermiso='eliminar' class="text-center">Eliminar<br><i class="fas fa-trash"></i></th>
                                    <th tipoPermiso='actualizar' class="text-center">Actualizar<br><i class="fas fa-sync"></i></th>
                                    <th tipoPermiso='descargarArchivo' class="text-center">Descargar archivo<br><i class="fas fa-file-download"></i>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-control" id='checkboxEspecialSubir' type='checkbox'>
                                    </td>
                                    <td class="text-center">
                                        <input class="form-control" id='checkboxEspecialCrear' type='checkbox'>
                                    </td>
                                    <td class="text-center">
                                        <input class="form-control" id='checkboxEspecialDescargarCarpeta' type='checkbox'>
                                    </td>
                                    <td class="text-center">
                                        <input class="form-control" id='checkboxEspecialEliminar' type='checkbox'>
                                    </td>
                                    <td class="text-center">
                                        <input class="form-control" id='checkboxEspecialActualizar' type='checkbox'>
                                    </td>
                                    <td class="text-center">
                                        <input class="form-control" id='checkboxEspecialDescargarArchivo' type='checkbox'>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <p></p>A nivel de:</p>

                    <div id="divRadioOpcionesEspeciales" class="btn-group">
                        <a class="btn btn-primary active" specialOption=1>
                            <i class="fas fa-industry"></i> División
                        </a>
                        <a class="btn btn-primary" specialOption=2>
                            <i class="fas fa-warehouse"></i> Subdivisión
                        </a>
                        <a class="btn btn-primary" specialOption=3>
                            <i class="fas fa-building"></i> Obra
                        </a>
                    </div>

                    <div id="divNivelDivision">
                        <p class="margin-top">Seleccione las divisiones:</p>
                        <select multiple id="comboDivisionNivelDivision" class="form-control"></select>
                    </div>

                    <div id="divNivelSubdivision" class="margin-top">
                        <div id="divComboSubdivision">
                            <p>Seleccione la subdivisiones:</p>
                            <select multiple id="comboSubdivision" class="form-control"></select>
                        </div>
                    </div>

                    <div id="divNivelObra" class="margin-top">
                        <div id="divComboDivisionNivelObra">
                            <p>Seleccione las divisiones:</p>
                            <select multiple id="comboDivisionNivelObra" class="form-control"></select>
                        </div>

                        <button class="btn btn-primary margin-top" type="button" id="botonCargarCCPorDivision">
                            <i class="fas fa-angle-double-up"></i> Cargar Centros de Costos
                        </button>

                        <div id="divComboObraNivelObra">
                            <p>Seleccione las obras:</p>
                            <select multiple id="comboObraNivelObra" class="form-control"></select>
                        </div>
                    </div>

                    <p class="margin-top">Nombre del usuario que tendrá el permiso especial:</p>
                    <input type="text" id="inputUsuarioEspecial" class="form-control margin-top" placeholder="Nombre del usuario...">

                    <button id="botonGuardarPermisosEspeciales" type="button" class="btn btn-primary margin-top">
                        <i class="fas fa-save"></i> Guardar permiso especial
                    </button>
                </div>

                <div id="divEstructura" class="margin-top">
                    <p>Agregar estructura de carpetas para una obra:</p>
                    <select id="comboDivision" class="form-control margin-top"></select>
                    <select id="comboCC" class="form-control margin-top"></select>
                    <button class="btn btn-primary margin-top" type="button" id="botonAgregarEstructura">
                        <i class="fas fa-plus"></i> Agregar estructura
                    </button>
                </div>

                <div id="divPermisoSeguridad" class="margin-top">
                    <p>Seleccione el tipo de permiso de seguridad:</p>
                    <select id="comboTipoPermisoSeguridad" class="form-control">
                        <option value="3" selected>Normal</option>
                        <option value="4">Administrador</option>
                    </select>
                    <input type="text" id="inputUsuarioSeguridad" class="form-control margin-top" placeholder="Nombre del usuario...">
                    <button id="botonGuardarPermisoSeguridad" type="button" class="btn btn-primary margin-top">
                        <i class="fas fa-user-lock"></i> Guardar permiso de seguridad
                    </button>
                </div>

                <div id="divEliminarPermisos" class="margin-top">
                    <p>Seleccione el permiso especial a eliminar</p>
                    <select id="comboUsuarioPermisoEspecial" class="form-control">
                    </select>
                    <button id="botonEliminarPermisoEspecial" type="button" class="btn btn-danger margin-top">
                        <i class="fas fa-times"></i> Eliminar permiso
                    </button>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    <i class="fas fa-times-circle"></i> Cerrar
                </button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalAviso">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <div class="text-center">
                    <h3 id="modalAvisoTitutlo"></h3>
                </div>
            </div>
            <div class="modal-body text-center">
                <p id="modalAvisoCuerpo"><strong></strong></p>
            </div>
            <div class="modal-footer">
                <button type="button" id="botonModalAviso" class="btn btn-primary" data-dismiss="modal">Entendido</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalGuardado">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <div class="text-center">
                    <h3 id="modalGuardadoTitutlo"></h3>
                </div>
            </div>
            <div class="modal-body text-center">
                <p id="modalGuardadoCuerpo"><strong></strong></p>
            </div>
            <div class="modal-footer">
                <button type="button" id="botonModalGuardado" class="btn btn-primary" data-dismiss="modal">Entendido</button>
            </div>
        </div>
    </div>
</div>

<!-- <script src="~/Scripts/Utilities/jquery.fancytree-all.min.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.31.0/jquery.fancytree-all.js"></script>
<script src="~/Scripts/js/FileManager/Permisos/Permisos.js"></script>